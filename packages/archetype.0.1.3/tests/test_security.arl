archetype test_security

variable admin role = @tz1aazS5ms5cbGkb6FN1wvWmN7yrMTTcr6wB
variable i int = 0

action main = {
  effect {
    i := 1
  }
}

security {
  g1 : only_by_role anyaction admin;
  g2 : only_in_action (remove mile) [main or main];
  g3 : not_in_action (add mile) main;
  g4 : no_fail main;
}
