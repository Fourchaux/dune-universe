opam-version: "2.0"
synopsis: "Tezos: library for a pool of P2P connections"
maintainer: "contact@tezos.com"
authors: "Tezos devteam"
license: "MIT"
homepage: "https://www.tezos.com/"
bug-reports: "https://gitlab.com/tezos/tezos/issues"
depends: [
  "tezos-tooling" {with-test & = version}
  "dune" {>= "1.11"}
  "tezos-p2p-services" {= version}
  "alcotest-lwt" {with-test & = "0.8.5"}
  "lwt" {>= "4.0" & < "4.3"}
  "lwt-watcher" {>= "0.1"}
  "lwt-canceler" {>= "0.2"}
]
build: [
  ["dune" "build" "-p" name "-j" jobs]
  ["mv" "src/lib_p2p/%{name}%.install" "./"]
  ["dune" "runtest" "-p" name "-j" jobs] {with-test}
]
dev-repo: "git+https://gitlab.com/tezos/tezos.git"
url {
  src: "https://gitlab.com/tezos/tezos/-/archive/v7.1/tezos-v7.1.tar.bz2"
  checksum: [
    "sha256=3675d856c4b818da7f5de0b85b86a48d3883f1210cfef28ef3233a047e74bed6"
    "sha512=d6abdef9a6643b2ffe8141ecc625dcc2a939131e2e5cc158c74aba8c403bd4072b7fc403ccfa6d766696604ad112495dd9db1ece8a3ae5a4693071dfdffcbda5"
  ]
}
